{"ast":null,"code":"var _jsxFileName = \"/Users/oleksiimarchenko/Documents/React/webinars/webinar  26-09-2020/Project/Packman/src/components/Pacman/Pacman.js\";\nimport React, { Component } from 'react';\nimport { ReactComponent as PacmanSvg } from \"@svgr/webpack?-svgo,+titleProp,+ref!./pacman.svg\";\nimport './style.css';\n\nclass Pacman extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      direction: 'right',\n      position: {\n        top: 0,\n        left: 0\n      }\n    };\n\n    this.handleKeyDown = event => {\n      console.log(event.keyCode, event.key);\n      const currentTop = this.state.position.top;\n      const currentLeft = this.state.position.left;\n      const {\n        step,\n        border,\n        size,\n        topScoreBoardHeight\n      } = this.props; // 39 ArrowRight\n      // 40 ArrowDown\n      // 37 ArrowLeft\n      // 38 ArrowUp\n\n      if (event.key === 'ArrowUp') {\n        this.setState({\n          position: {\n            // top: currentTop - step,\n            top: Math.max(currentTop - step, 0),\n            left: currentLeft\n          },\n          direction: 'up'\n        });\n      } else if (event.key === 'ArrowRight') {\n        this.setState({\n          position: {\n            top: currentTop,\n            // left: currentLeft + step\n            left: Math.min(currentLeft + step, window.innerWidth - border - size)\n          },\n          direction: 'right'\n        });\n      } else if (event.key === 'ArrowDown') {\n        this.setState({\n          position: {\n            // top: currentTop + step,\n            top: Math.min(currentTop + step, window.innerHeight - border - size - topScoreBoardHeight),\n            left: currentLeft\n          },\n          direction: 'down'\n        });\n      } else if (event.key === 'ArrowLeft') {\n        this.setState({\n          position: {\n            top: currentTop,\n            // left: currentLeft - step\n            left: Math.max(currentLeft - step, 0)\n          },\n          direction: 'left'\n        });\n      }\n    };\n\n    this.pacmanRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.pacmanRef.current.focus();\n  }\n\n  render() {\n    const {\n      direction,\n      position\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.pacmanRef,\n      className: `pacman pacman-${direction}`,\n      tabIndex: \"0\",\n      onKeyDown: this.handleKeyDown,\n      style: position,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PacmanSvg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nPacman.defaultProps = {\n  step: 50,\n  // 50px\n  size: 50,\n  // pacman size: 50x50px\n  // TODO: move to config\n  border: 10 * 2,\n  topScoreBoardHeight: 50\n};\nexport default Pacman;","map":{"version":3,"sources":["/Users/oleksiimarchenko/Documents/React/webinars/webinar  26-09-2020/Project/Packman/src/components/Pacman/Pacman.js"],"names":["React","Component","Pacman","constructor","props","state","direction","position","top","left","handleKeyDown","event","console","log","keyCode","key","currentTop","currentLeft","step","border","size","topScoreBoardHeight","setState","Math","max","min","window","innerWidth","innerHeight","pacmanRef","createRef","componentDidMount","current","focus","render","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { ReactComponent as PacmanSvg } from './pacman.svg';\nimport './style.css';\nclass Pacman extends Component {\n\n  state = {\n    direction: 'right',\n    position: {\n      top: 0,\n      left: 0\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.pacmanRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.pacmanRef.current.focus();\n  }\n\n  handleKeyDown = (event) => {\n    console.log(event.keyCode, event.key);\n\n    const currentTop = this.state.position.top;\n    const currentLeft = this.state.position.left;\n    const { step, border, size, topScoreBoardHeight } = this.props;\n\n    // 39 ArrowRight\n    // 40 ArrowDown\n    // 37 ArrowLeft\n    // 38 ArrowUp\n    if (event.key === 'ArrowUp') {\n      this.setState({\n        position: {\n          // top: currentTop - step,\n          top: Math.max(currentTop - step, 0),\n          left: currentLeft\n        },\n        direction: 'up'\n      });\n    } else if (event.key === 'ArrowRight') {\n      this.setState({\n        position: {\n          top: currentTop,\n          // left: currentLeft + step\n          left: Math.min(currentLeft + step, window.innerWidth - border - size)\n        },\n        direction: 'right'\n      });\n    } else if (event.key === 'ArrowDown') {\n      this.setState({\n        position: {\n          // top: currentTop + step,\n          top: Math.min(currentTop + step, window.innerHeight - border - size - topScoreBoardHeight),\n          left: currentLeft\n        },\n        direction: 'down'\n      });\n    } else if (event.key === 'ArrowLeft') {\n      this.setState({\n        position: {\n          top: currentTop,\n          // left: currentLeft - step\n          left: Math.max(currentLeft - step, 0)\n        },\n        direction: 'left'\n      });\n    }\n  }\n\n  render() {\n    const { direction, position } = this.state;\n    return (\n      <div\n        ref={this.pacmanRef}\n        className={`pacman pacman-${direction}`}\n        tabIndex=\"0\"\n        onKeyDown={this.handleKeyDown}\n        style={position}\n      >\n        <PacmanSvg />\n      </div>\n    );\n  }\n}\n\nPacman.defaultProps = {\n  step: 50, // 50px\n  size: 50, // pacman size: 50x50px\n  // TODO: move to config\n  border: 10 * 2,\n  topScoreBoardHeight: 50\n}\n\nexport default Pacman;"]},"metadata":{},"sourceType":"module"}