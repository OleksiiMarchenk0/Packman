{"ast":null,"code":"var _jsxFileName = \"/Users/oleksiimarchenko/Documents/React/webinars/webinar  26-09-2020/Project/Packman/src/components/Pacman/Pacman.js\";\nimport React, { Component } from 'react';\nimport { ReactComponent as PacmanSvg } from \"@svgr/webpack?-svgo,+titleProp,+ref!./pacman.svg\";\nimport './style.css';\n\nclass Pacman extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      direction: 'right',\n      position: {\n        top: 0,\n        left: 0\n      }\n    };\n\n    this.handleKeyDown = event => {\n      const currentTop = this.state.position.top;\n      const currentLeft = this.state.position.left;\n      const {\n        step,\n        border,\n        size,\n        topScoreBoardHeight\n      } = this.props;\n      const {\n        position\n      } = this.state;\n      let newTop = position.top;\n      let newLeft = position.left; // 39 ArrowRight\n      // 40 ArrowDown\n      // 37 ArrowLeft\n      // 38 ArrowUp\n\n      if (event.key === 'ArrowUp') {\n        this.setState({\n          position: {\n            // top: currentTop - step\n            top: Math.max(currentTop - step, 0),\n            left: currentLeft\n          },\n          direction: 'up'\n        });\n      } else if (event.key === 'ArrowRight') {\n        this.setState({\n          position: {\n            top: currentTop,\n            // left: currentLeft + step\n            left: Math.min(currentLeft + step, window.innerWidth - border - size)\n          },\n          direction: 'right'\n        });\n      } else if (event.key === 'ArrowDown') {\n        this.setState({\n          position: {\n            // top: currentTop + step,\n            top: Math.min(currentTop + step, window.innerHeight - border - size - topScoreBoardHeight),\n            left: currentLeft\n          },\n          direction: 'down'\n        });\n      } else if (event.key === 'ArrowLeft') {\n        this.setState({\n          position: {\n            top: currentTop,\n            // left: currentLeft - step\n            left: Math.max(currentLeft - step, 0)\n          },\n          direction: 'left'\n        });\n      }\n\n      console.log(\"Packman\", newTop); //getPackmanPosition\n    };\n\n    this.pacmanRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.pacmanRef.current.focus();\n  }\n\n  render() {\n    const {\n      direction,\n      position\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.pacmanRef,\n      className: `pacman pacman-${direction}`,\n      tabIndex: \"0\",\n      onKeyDown: this.handleKeyDown,\n      style: position,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PacmanSvg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nPacman.defaultProps = {\n  step: 50,\n  // 50px\n  size: 50,\n  // pacman size: 50x50px\n  // TODO: move to config\n  border: 10 * 2,\n  topScoreBoardHeight: 50\n};\nexport default Pacman;","map":{"version":3,"sources":["/Users/oleksiimarchenko/Documents/React/webinars/webinar  26-09-2020/Project/Packman/src/components/Pacman/Pacman.js"],"names":["React","Component","Pacman","constructor","props","state","direction","position","top","left","handleKeyDown","event","currentTop","currentLeft","step","border","size","topScoreBoardHeight","newTop","newLeft","key","setState","Math","max","min","window","innerWidth","innerHeight","console","log","pacmanRef","createRef","componentDidMount","current","focus","render","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { ReactComponent as PacmanSvg } from './pacman.svg';\nimport './style.css';\nclass Pacman extends Component {\n\n  state = {\n    direction: 'right',\n    position: {\n      top: 0,\n      left: 0\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.pacmanRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.pacmanRef.current.focus();\n  }\n\n  handleKeyDown = (event) => {\n    const currentTop = this.state.position.top;\n    const currentLeft = this.state.position.left;\n    const { step, border, size, topScoreBoardHeight } = this.props;\n    const {position} = this.state;\n    let newTop = position.top;\n    let newLeft=position.left;\n\n    // 39 ArrowRight\n    // 40 ArrowDown\n    // 37 ArrowLeft\n    // 38 ArrowUp\n    if (event.key === 'ArrowUp') {\n      this.setState({\n        position: {\n          // top: currentTop - step\n          top: Math.max(currentTop - step, 0),\n          left: currentLeft\n        },\n        direction: 'up'\n      });\n    } else if (event.key === 'ArrowRight') {\n      this.setState({\n        position: {\n          top: currentTop,\n          // left: currentLeft + step\n          left: Math.min(currentLeft + step, window.innerWidth - border - size)\n        },\n        direction: 'right'\n      });\n    } else if (event.key === 'ArrowDown') {\n      this.setState({\n        position: {\n          // top: currentTop + step,\n          top: Math.min(currentTop + step, window.innerHeight - border - size - topScoreBoardHeight),\n          left: currentLeft\n        },\n        direction: 'down'\n      });\n    } else if (event.key === 'ArrowLeft') {\n      this.setState({\n        position: {\n          top: currentTop,\n          // left: currentLeft - step\n          left: Math.max(currentLeft - step, 0)\n        },\n        direction: 'left'\n      });\n    }\n    console.log(\"Packman\",newTop)\n    //getPackmanPosition\n  }\n\n  render() {\n    const { direction, position } = this.state;\n    return (\n      <div\n        ref={this.pacmanRef}\n        className={`pacman pacman-${direction}`}\n        tabIndex=\"0\"\n        onKeyDown={this.handleKeyDown}\n        style={position}\n      >\n        <PacmanSvg />\n      </div>\n    );\n  }\n}\n\nPacman.defaultProps = {\n  step: 50, // 50px\n  size: 50, // pacman size: 50x50px\n  // TODO: move to config\n  border: 10 * 2,\n  topScoreBoardHeight: 50\n}\n\nexport default Pacman;"]},"metadata":{},"sourceType":"module"}